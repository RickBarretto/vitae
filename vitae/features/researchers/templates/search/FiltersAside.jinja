{#def 
    id: str,
    countries: list,
    states: list,
    titles: list,
    expertises: list
#}

{#

    Search's Filter Aside
    ---------------------

    Sidebar filter component for the search page that provides multiple filtering options
    such as country, state, formation started, finished formations, and expertise areas.

    `countries`: list of country strings for the country select dropdown.
    `states`: list of state strings for the state select dropdown.
    `titles`: list of formation titles for the formation select dropdown.
    `expertises`: list of expertise areas for the expertise select dropdown.

    Usage
    -----

    To render the search filters sidebar:

        <search.FilterAside 
            countries={{["Brazil", "USA"]}} 
            states={{["SP", "RJ"]}}
            titles={{["Bachelor", "Master"]}} 
            expertises={{["AI", "Data Science"]}} 
        />

#}


<aside class="bg-white/70 backdrop-blur rounded-2xl shadow-xl p-6 sticky top-6 space-y-6">
    <form method="get" action="/search" id="{{id}}">
        <form.Label of="query">Pesquisar</form.Label>
        <form.Search on_url="query" placeholder="Pesquisar por nome ou ID..."/>
        <div class="space-y-4 mt-6 gap-2">
            <form.Attribute>
                <form.Label of="country">País</form.Label>
                <form.CountrySelect on-url="country" available={{countries}}>
                    Todos os Países
                </form.CountrySelect>
            </form.Attribute>
            <form.Attribute>
                <form.Label of="state">Estado</form.Label>
                <form.StateSelect on-url="state" available={{states}}>
                    Todos os estados
                </form.StateSelect>
            </form.Attribute>
            <form.Attribute>
                <form.Label of="started">Formações iniciadas</form.Label>
                <form.FormationSelect on-url="started" available={{titles}}>
                    Todas as formações
                </form.FormationSelect>
                <form.OnlyFinishedFormation on-url="has-finished">
                    Apenas finalizadas
                </form.OnlyFinishedFormation>
            </form.Attribute>
            <form.Attribute>
                <form.Label of="expertise">Areas de atuação</form.Label>
                <form.ExpertiseSelect on-url="expertise" available={{expertises}}>
                    Todas as areas
                </form.ExpertiseSelect>
            </form.Attribute>
            <form.Button type="submit">Buscar</form.Button>
        </div>
    </form>
    <div class="flex justify-between items-center space-x-2">
        <form.Button onclick="window.location.href='/'">Remover filtros</form.Button>
        <search.ExportAllButton 
            id="export-all" targets="/export" 
            storage="selectedResearchers" 
            triggers="exportResearcher" 
        >
            <i class="bi bi-box-arrow-down"></i> Exportar todos
        </search.ExportAllButton>
    </div>
</aside>
